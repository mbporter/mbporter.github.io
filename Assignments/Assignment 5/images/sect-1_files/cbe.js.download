/*!
 * CBE tracking
 *
 * JavaScript tracking client
 *
 * @link https://capturehighered.com
 */
!function(R,M){"use strict";var c=R.navigator,o="_cbe",P="/cbe/footprint";function U(e,t,n,r){(t=H(t)?t:{}).error=u(e)?e:"",t.method=n||"",t.cbe="error",H(e)&&(t.error=e.message,t.errorFull=e.toString(),t.errorName=u(e.name)&&e.name,t.errorStack=u(e.stack)&&e.stack,t.errorFile=u(e.fileName)&&e.fileName,t.errorLine=!isNaN(e.lineNumber)&&e.lineNumber,t.errorCol=!isNaN(e.columnNumber)&&e.columnNumber),ee({url:r,data:t})}function B(e,t){if(1==t.length&&null!==t[0]&&"object"==typeof t[0]&&!k.isNode(t[0]))return t[0];for(var n={},r=Math.min(e.length+1,t.length),i=0;i<r;i++)i<e.length&&(n[e[i]]=t[i]);return n}function a(e){var t,n=[];for(t in e)H(e[t])&&e[t]?n.push(R.encodeURIComponent(t)+"="+R.encodeURIComponent(s(e[t]))):e.hasOwnProperty(t)&&e[t]&&""!==e[t]&&n.push(R.encodeURIComponent(t)+"="+R.encodeURIComponent(e[t]));return n.join("&")}function s(e){return $(JSON)?JSON.stringify(e):null}function l(e,t){for(var n in t)e[n]=t[n];return e}function e(e){return"prerender"!=M.visibilityState&&"hidden"!=M.visibilityState&&(e(),1)}function F(e,t){return n(e)===n((t?Z(t):R.location).hostname)}function $(e){return void 0!==e}function u(e){return null!=e&&-1<(e.constructor+"").indexOf("String")}function q(e){return"function"==typeof e}function H(e){return"object"==typeof e}function f(e){return"[object Array]"==Object.prototype.toString.call(Object(e))}function V(e){return!!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}function d(e){return e&&"function"==typeof e.trim?e.trim():e.replace(/^\s+|\s+$|^\u00A0+|\u00A0+$/g,"")}function m(e,t,n){if(!e)return-1;if("function"==typeof e.indexOf)return e.indexOf(t,n);var r,i=Object(e),a=i.length>>>0;if(0==a)return-1;n|=0;if(a<=n)return-1;for(r=Math.max(0<=n?n:a-Math.abs(n),0);r<a;r++)if(r in i&&i[r]===t)return r;return-1}function z(e,t){return-1!==m(t,e)}function J(e,t,n,r){var i,a=R.screen,o=M.location;e=l({},e),t=l({},t),H(r=r||t.page||R.location)||(r=Z(r)),e.ppr=r.protocol.replace(":",""),e.po=r.hostname,e.pp=h(r.pathname),e.ph=r.hash,e.pq=r.search,e.pt=t.title||M.title,e.cbe=n||null,e.cid=t.cid||null,e.pr=function(){var e,t,n=M.referrer;if(/^https?:\/\//i.test(n))return t="//"+M.location.hostname,5!==(e=n.indexOf(t))&&6!==e||"/"!==(t=n.charAt(e+t.length))&&"?"!==t&&""!==t&&":"!==t?n:null;return null}(),e.cs=ne.get("_capc")||null,e.cv=ne.get("_capv")||null;try{e.pl=(c.language||c.browserLanguage||"").toLowerCase(),e.pe=o.characterSet||o.charset,e.ps=a.width+"x"+a.height,e.pc=a.colorDepth+"-bit",e.pv=function(){var e=M.body,t=M.documentElement,n=e&&e.clientWidth&&e.clientHeight,r=[];t&&t.clientWidth&&t.clientHeight&&("CSS1Compat"===M.compatMode||!n)?r=[t.clientWidth,t.clientHeight]:n&&(r=[e.clientWidth,e.clientHeight]);return(t=r[0]<=0||r[1]<=0)?"":r.join("x")}(),$(R.Intl)&&(e.tz=R.Intl.DateTimeFormat().resolvedOptions().timeZone)}catch(e){}for(i in t)e[i]=("linkPage"===i||"formPage"===i)&&Z(t[i]).href||t[i];return e}function W(e){return e||"https://cbe.capturehighered.net"}function Z(e){e=e&&u(e)?d(e):R.location.href;var t=M.createElement("a");return t.href=e,t.hostname||(t.href=R.location.protocol+"//"+R.location.hostname+e),{pathname:h(t.pathname),hostname:t.hostname,protocol:t.protocol,origin:t.origin,host:t.host,hash:t.hash,href:t.href,port:t.port,search:t.search}}function n(e){return e.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"")}function Q(e){var t,n,r=(n=(t=e).length,(t="*."===(t="."===t.charAt(--n)?t.slice(0,n):t).slice(0,2)?t.slice(1):t).split("."));"www"===r[0]&&r.shift();for(var i=r.length-1;0<=i;i--)2<r.length&&r.shift();return e="."+r.join(".")}function h(e){return e=e&&"/"!==(e="/"!==e&&"/"===e.substr(-1)?e.substr(0,e.length-1):e)&&"/"!==e.charAt(0)?"/"+e:e}function G(e,t){var n,r={};if($(t)||(t=!0),u(e=!$(e)?M.location.search:e)&&""!==e)for(var i=e.substring(1).split("&"),r={},a=0;a<i.length;a++)u((n=i[a].split("="))[0])&&(u(n[1])?r[!0===t?n[0].toLowerCase():n[0]]=d(R.decodeURIComponent(n[1])):r[!0===t?n[0].toLowerCase():n[0]]="");return r}function p(e){if(e){var t=e.form,n=e.name;return"SELECT"===e.nodeName&&e.multiple?r(e.options):n&&"checkbox"===e.type?r(t[n.replace(/["\\]/g,"\\$&")]||[]):n&&"radio"===e.type?r(t[n.replace(/["\\]/g,"\\$&")]||[])||null:n&&t&&"FORM"===t.nodeName&&t[n]&&k.isNode(t[n])?i(t[n].value):i(e.value)}}function r(e){var t=[];if(e)if(k.isNode(e))(e.checked||e.selected)&&t.push(i(e.value));else for(var n=0;n<e.length;n++)(e[n].checked||e[n].selected)&&t.push(i(e[n].value));return t}function i(e){if(e&&u(e)){var t=M.createElement("textarea");return t.innerHTML=e,t.value}return e}function K(e){var t,n,r,i={};if($(e))for(var a=e.length-1;0<=a;a--)(r=e[a])&&!r.disabled&&(t=r.type||null,!(n=$(r.name)&&r.name||$(r.id)&&r.id||["cbe-field",t,a].join("-"))||t&&t.match(/^(submit|button|reset|file|image|password|hidden)$/)||(i[n.replace(/["\\]/g,"\\$&")]=p(r)));return i}function X(){try{var e=new Uint32Array(1);return R.crypto.getRandomValues(e),536870911&e[0]}catch(e){return Math.round(536870911*Math.random())}}function Y(){for(var e=c.userAgent+(M.cookie||"")+(M.referrer||""),t=e.length,n=R.history.length;0<n;)e+=n--^t++;return[X()^536870911&function(e){var t,n,r=1;if(e)for(r=0,n=e.length-1;0<=n;n--)r=0!=(t=266338304&(r=(r<<6&268435455)+(t=e.charCodeAt(n))+(t<<14)))?r^t>>21:r,r|=0;return r}(e),Math.round((new Date).getTime()/1e3)].join("").substring(0,19)}function ee(e){return"jsonp"===(e=l({url:null,data:{}},e)).type?(t=e,n=!1,r=M.createElement("script"),i=M.getElementsByTagName("head")[0]||M.documentElement,t.data.t="js",r.type="text/javascript",r.defer=!0,r.async=!0,r.src=t.url+(t.url.indexOf("?")<0?"?":"&")+a(t.data),r.onerror=q(t.error)?t.error:function(){},r.onload=r.onreadystatechange=function(e){n||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(n=!0,q(t.success)&&t.success(),r.onload=r.onreadystatechange=null,i&&r.parentNode&&i.removeChild(r))},void i.insertBefore(r,i.firstChild)):("img"===e.type?g:function(t){if(!$(c.sendBeacon)||!$(R.FormData)||!$(JSON))return g(t);var e,n=new R.FormData;for(e in t.data)(H(t.data[e])&&t.data[e]||t.data.hasOwnProperty(e)&&t.data[e]&&""!==t.data[e])&&(H(t.data[e])?n.append(e,s(t.data[e])):n.append(e,t.data[e]));q(c.sendBeacon.bind)&&c.sendBeacon.bind(c);try{var r=c.sendBeacon(t.url,n);r||g(t)}catch(e){g(t)}})(e);var t,n,r,i}function te(e,t,n){function r(e){R[o]&&R[o][t]&&e(R[o][t])}R[o][t]?r(n):ee({url:e,type:"jsonp",success:function(){r(n)}})}function g(e){e.data.t="img",e.data.ts=Math.floor((new Date).getTime()/1e3);var t=new Image(1,1);t.src=e.url+".gif"+(e.url.indexOf("?")<0?"?":"&")+a(e.data),t.onload=q(e.success)?e.success:function(){},t.onerror=q(e.error)?e.error:function(){}}function v(n){var e,t,r,i,a={pageview:["page","title"],form:["form"],link:["linkTitle","linkPage","page","title"],event:["category","action","label","page","title"]},o=["type","population","firstName","lastName","email"],c=n.name&&"d"!==n.name?n.name:c,s=["pageview","pagefocus","pageleave","form","id","link","event","destroy"],l={},u=W(n.trackingUrl),d=u+P,f=n.trackingId||null,m=n.cookiePath||"/",h=n.cookieDomain||Q(R.location.hostname),p=!1,g=!1,v="cbe_email",y="cbeid",b="scid",_="altid",k="prid";function E(e,t){U(e,J(l),t,d)}function N(t){var n;n=function(e){e.processContent(t)},p?n.call(self,p):te(u+"/cbe/content.js?v=1","content",function(e){try{"function"==typeof(p=e(ie,c,1))&&(p=new p({mobile:g,props:l,url:u})),n.call(self,p)}catch(e){E(e,"getContentLib")}})}function S(e,t){return t&&(l[e]=t),l}function w(e){e&&(V(e)?l.em||S("em",e):(l.scid||S("scid",e),l.cbeid||S("cbeid",e)))}function C(e){var t=ne.get("_capid"),t=e||t||ne.get("_cap");t&&!isNaN(t)||(t=Y(),S("new",1)),t&&""!=t&&!isNaN(t)&&(S("vid",t),ne.set("_cap",R.encodeURIComponent(t),63072e6,m,h))}function T(e){e=e||ne.get("_caps");(e=!e||isNaN(e)?Math.floor(65535&X())+""+Math.round((new Date).getTime()/1e3):e)&&""!=e&&!isNaN(e)&&(S("sessid",e),ne.set("_caps",e,9e5,m,h))}function A(e){var t,n;e?t=e:n=l.prid?(t=l.prid,"query"):(t=ne.get("_capp")||function(e){try{if($(localStorage)&&H(localStorage))return localStorage.getItem(e)}catch(e){}}("_capp"),"cookie"),!l.is_test&&t&&""!==t&&(l.cbe_source||S("cbe_source",n),S("prid",t),ne.set("_capp",R.encodeURIComponent(t),864e5,m,h),function(e,t){try{if($(localStorage)&&H(localStorage)&&localStorage.setItem(e,t));}catch(e){}}("_capp",R.encodeURIComponent(t)))}function L(){function r(e){try{var t=e.target&&e.target.form||e.srcElement&&e.srcElement.form||e.target;t&&"FORM"===t.nodeName&&null===t.getAttribute("data-cbe-form-id")&&(i&&(clearTimeout(i),i=!1),i="click"==e.type||"submit"==e.type?setTimeout(function(){i=!1,I(t)},30):setTimeout(function(){i=!1,I(t,e.type)},5e3))}catch(e){E(e,"trackFormsSubmit")}}function e(e){try{var t=e.target||e.srcElement||e.target,n=t&&t.innerText&&t.innerText.toLowerCase();!i&&"submit"===t.type&&t.form&&(n&&-1!==n.indexOf("send")||-1!==n.indexOf("submit"))&&r(e)}catch(e){E(e,"trackFormsClick")}}var i=!1;re.undelegate(M,"form","change.fm",r,!0),re.undelegate(M,"form","submit.fm",r,!0),re.delegate(M,"form","change.fm",r,!0),re.delegate(M,"form","submit.fm",r,!0),"e1c184ce"==f&&(re.undelegate(M,"button","click.fm",e,!0),re.delegate(M,"button","click.fm",e,!0))}function x(e,t){if(z(e,s))return ee({data:J(l,t,e),type:"pageview"==e?"jsonp":null,url:d}),!0}function j(e){var t;if((l[t="new"]&&delete l[t],e.ts&&!isNaN(e.ts))&&1800<=(new Date).getTime()/1e3-e.ts)return;g=1==e.m,e.pid&&e.pid!==l.prid&&A(e.pid),e.id&&e.id!==l.vid&&C(e.id),!1!==n.content&&e.c&&N(e.c),function(){try{if(l.prid&&q(R.URL)&&$(R.history)){var e=new R.URL(R.location.href),t=e.searchParams;if(t){for(var n,r=!1,i=[v,y,_,"cbe_"+_,b,"cbe_"+b,k,"cbe_"+k],a=0;a<i.length;a++)t.has(i[a])&&(t.delete(i[a]),r=!0);r&&(n=t.toString().replace(/=$|=(?=&)/g,""),R.history.replaceState({},"",[e.pathname,n?"?"+n:"",e.hash].join("")))}}}catch(e){E(e,"resetPageParameters")}}()}function I(e,t){if(e){var n,r=[],i=K(e.elements);for(n in i)V(i[n])?(r.push(i[n]),i[n]=i[n]):i[n]="";t&&"submit"!==t?!l.prid&&r.length&&x("id",{formEm:r.join(",")}):x("form",{formID:e.getAttribute("data-cbe-app-form-id")||null,formEm:r.length?r.join(","):null,formPage:e.getAttribute("action"),formTitle:e.getAttribute("id"),formData:i})}}function O(e){e&&(w(e),S("cbe_source","direct"),x("id"))}function D(e){try{"visible"===M.visibilityState&&(ne.get("_caps")||(T(),x("pagefocus")))}catch(e){E(e,"trackPageVisibility")}}return e=G()||{},r=(e.utm_campaign===y?e.utm_content:e["utm_"+y])||e[y]||!1,t=M.referrer&&G(Z(M.referrer).search)||{},S("v",1.3),S("n",c),S("id",f),(e||t)&&(S("prid",e["cbe_"+k]||e[k]||t[k]),S("scid",e["cbe_"+b]||e[b]||t[b]),S("scid2",e["cbe_"+_]||t["cbe_"+_]),S("em",e[v]||t[v])),e&&(S("cid",e.cid),S("utmc",e.utm_campaign),S("utmn",e.utm_source),S("utmm",e.utm_medium),S("utmct",e.utm_content),S("utmt",e.utm_term),S("cbe_rcid",e.cbe_rcid),S("cbe_ldpg",e.cbe_ldpg),S("cbe_source",e.cbe_source)),e&&(e.is_test||e.cbe_test)&&(S("is_test",!0),S("content_id",e.content_id||e.cbe_content)),r&&w(r),C(),A(),T(),(r=ne.get("_capc"))&&ne.set("_capc",r,9e5,m,h),!1!==n.trackLinks&&(i=M.links)&&(re.unbind(i,"click.lk",r=function(e){try{var t=e.target||e.srcElement,n=q(t.getAttribute)&&t.getAttribute("href");n&&t.host&&(F(t.host)&&("#"===n||"#"!==n.charAt(0))||x("link",{linkPage:t.href,linkTitle:t.text}))}catch(e){E(e,"trackLinks")}}),re.bind(i,"click.lk",r)),!1!==n.trackForms&&L(),!1!==n.trackPageVisibility&&(re.unbind(M,"visibilitychange.tk",D),re.bind(M,"visibilitychange.tk",D)),{data:l,sendRequest:x,destroy:function(){ne.destroy("_cap",m,h),ne.destroy("_capid",m,h),ne.destroy("_caps",m,h),ne.destroy("_capsess",m,h),ne.destroy("_capc",m,h),ne.destroy("_capv",m,h),ne.destroy("_capp",m,h),function(e){try{if($(localStorage)&&H(localStorage))localStorage.removeItem(e)}catch(e){}}("_capp"),x("destroy"),C(),T()},form:I,id:O,log:function(){try{var e,t,n;arguments.length&&ne.enabled()&&!ne.get("_capt")&&(ne.set("_capt",1,100,m,h),t="string"==typeof arguments[0]?(e=arguments[0],[].slice.call(arguments,1)):(e=arguments[0]&&arguments[0].type,arguments),e&&(n=B(a[e]||[],t),"complete"===e?j(n):"id"===e?O(n.id):"form"===e?I(n.form):re.onLoad(function(){x(e,n)},e)))}catch(e){E(e,"log")}},getIsMobile:function(){return g},getData:function(){return l},getCookieDomain:function(){return h},getCookiePath:function(){return m},getApiHost:function(){return u},getApiUrl:function(){return d},person:function(){var e=B(o,[].slice.call(arguments));return x("form",{formID:e.type,formData:JSON.stringify({population_type:e.population,first_name:e.firstName,last_name:e.lastName,email:e.email})})}}}function y(){for(var e,t,n,r,i=[],a=0;a<arguments.length;a++)i.push((r=n=t=void 0,t={},n=(e=arguments[a])[1]&&e[1].name?e[1].name:null,null!==(r=/^(?:(\w+)\.)?(?:(\w+):)?(\w+)$/.exec(e[0]))&&4===r.length&&(t.queue=n||r[1]||o,t.command=r[3],t.args=[].slice.call(e,1)),t));return i}var t,b,_,ne={enabled:function(){try{return $(c.cookieEnabled)?!!c.cookieEnabled:(this.set("_captest","1"),"1"==this.get("_captest"))}catch(e){return!1}},set:function(e,t,n,r,i,a){var o,c="";t=t?R.encodeURIComponent(t):"",i=i?";Domain="+i:"",a=a?";Secure":"",r=";path="+(r||"/"),n&&((o=new Date).setTime(o.getTime()+n),c=";expires="+o.toUTCString()),M.cookie=e+"="+t+c+r+i+a+";samesite=Lax"},get:function(e){e=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return!(!e||!e[2])&&R.decodeURIComponent(e[2])},destroy:function(e,t,n,r){this.set(e,"",-1,t,n,r)}},re={events:{},addEvent:function(e,t,n,r,i,a){var o=e;this.events[o]||(this.events[o]=[]),this.events[o].push({el:t,event:o,handler:n,capture:a||!1,delegated:r||!1,delegatedEl:i||!1}),this.addEventListener(t,e,r||n,a||!1)},removeEvent:function(e,t,n,r,i){var a,o=e;if(this.events[o]){for(var c in this.events[o])(a=this.events[o][c])&&(n=(n=a.delegated?a.delegated:n)||a.handler,i=i||a.capture,r&&a.delegatedEl?a.delegatedEl===r&&(this.removeEventListener(t,e,n,i),this.events[o].splice(c,1)):a.el===t&&(this.removeEventListener(t,e,n,i),this.events[o].splice(c,1)));this.events[o]&&this.events[o].length||delete this.events[o]}},bind:function(e,t,n,r,i,a){if(t){var o=t.split(" ");if(e)for(var c=(e=!f(e)&&!e.length?[e]:e).length-1;0<=c;c--)for(var s=o.length-1;0<=s;s--)this.addEvent(o[s],e[c],n,r,i,a)}},unbind:function(e,t,n,r,i){if(t){if(u(e)&&!t&&this.events[e]){t=e,e=[];for(var a=0;a<this.events[t].length;a++)this.events[t][a].el&&e.push(this.events[t][a].el)}if(e)for(var o=t.split(" "),a=(e=!f(e)&&!e.length?[e]:e).length-1;0<=a;a--)for(var c=o.length-1;0<=c;c--)this.removeEvent(o[c],e[a],n,r,i)}},delegate:function(e,i,t,a,n){this.bind(e,t,a,function(e){if(e.target){var t=!1,n=k.find(i,e.currentTarget||e.searchElement);if(0<=m(n,e.target))t=n[m(n,e.target)];else for(var r=0;r<n.length;r++)if(n[r].contains(e.target)){t=n[r];break}t&&(e.delegateTarget=t,a.call(this,e))}},i,n)},undelegate:function(e,t,n,r,i){this.unbind(e,n,r,t,i)},addEventListener:function(e,t,n,r){e!==R&&!k.isNode(e)||(t=t.split(".")[0],e.addEventListener?e.addEventListener(t,n,r):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n)},removeEventListener:function(e,t,n,r){e!==R&&!k.isNode(e)||(t=t.split(".")[0],e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null)},trigger:function(e,t){try{var n;q(Event)?n=new Event(t):(n=M.createEvent("Event")).initEvent(t,!0,!0),e.dispatchEvent(n)}catch(e){}},onReady:function(e,t){var n,r;M.readyState&&!/interactive|complete/.test(M.readyState)?(r=function(){re.unbind(M,n,r),e.call(this)},re.bind(M,n="DOMContentLoaded"+(t?"."+t:""),r)):e.call(this)},onLoad:function(e,t){var n,r;M.readyState&&"complete"!==M.readyState?(r=function(){"complete"===M.readyState&&(re.unbind(M,n,r),setTimeout(function(){e.call(this)},10))},re.bind(M,n="readystatechange"+(t?"."+t:""),r)):e.call(this)}},k={isNode:function(e){return("object"==typeof Node?e instanceof Node:e)&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},nodeCollectionToArray:function(e){var t,n=[];if(!e||!e.length)return n;for(t=0;t<e.length;t++)n.push(e[t]);return n},setDomStyles:function(e,t){if(H(t))for(var n in t)try{e.style[n]=t[n]}catch(e){}return e},setStyleBlock:function(e,t){var n=M.createElement("style");t=t||M.head||M.getElementsByTagName("head")[0],n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n)},closest:function(e,t){if(Element.prototype.closest)return t.closest(e);var n=Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;if(n)do{if(n.call(t,e))return t}while(null!==(t=t.parentElement||t.parentNode)&&1===t.nodeType)},find:function(e,t,n){var r,i,a,o,c=H(t)?t:document,s=0,l=[],u=[];f(e)||(e=[e]);for(var d=0;d<e.length;d++)if(r=(a=e[d].replace(/^\s+|\s+$/g,"")).split(" ").length,"#"===a.substring(0,1)&&1===r)a=a.slice(1,a.length),(o=M.getElementById(a))&&(u=u.concat(o));else if($(c.querySelectorAll))(o=c.querySelectorAll(a))&&(u=u.concat(this.nodeCollectionToArray(o)));else if(l=c.all,"."===a.substring(0,1))if(a=a.slice(1,a.length),$(c.getElementsByClassName))(o=c.getElementsByClassName(a))&&(u=u.concat(this.nodeCollectionToArray(o)));else for(i=new RegExp("(^|\\s)"+a+"(\\s|$)"),s=0;s<l.length;s++)(o=l[s])&&i.test(o.className)&&u.push(o);else if("["===a.substring(0,1)&&"]"===a.substring(a.length-1,a.length))for(a=(a=a.slice(1,a.length)).substring(0,a.length-1),l=c.getElementsByTagName("*"),s=0;s<l.length;s++)(o=l[s])&&null!==o.getAttribute(a)&&u.push(o);else(o=c.getElementsByTagName(a))&&(u=u.concat(this.nodeCollectionToArray(o)));return n?!!u.length&&u.shift():u}},ie={query:k,events:re,cookies:ne,isArray:f,inArray:z,logError:U,isObject:H,isString:u,isDefined:$,stringify:s,serialize:a,mapObject:B,arrayIndex:m,getLibrary:te,sendRequest:ee,isStringEmail:V,isStringPhone:function(e){return e=e.replace(/[\s()+\-\.]/gi,""),!!/^[1-9]\d{6,14}$/.test(e)},getProperties:J,getFormValues:K,isSiteHostName:F,getParsedQuery:G,getCookieDomain:Q,getFormFieldVal:p,getParsedUrlString:Z},E=function(){if(arguments)return E.fire.apply(E,[arguments])};E.tracker={},E.fire=function(){for(var e=[],t=y.apply(E,arguments);0<t.length;t.shift())e.push(function(e,t){try{var n=e.tracker[t.queue];if("create"===t.command)return e.create.apply(e,t.args);if(n&&q(n[t.command]))return n[t.command].apply(n,t.args)}catch(e){U(e,{},"callMethod",W()+P)}}(E,t[0]));return 0==t.length?e[0]:e},E.create=function(){var e=B(["trackingId","userId","cookieDomain"],[].slice.call(arguments));e.name=e.name||o;var t=e.name;return E.tracker[t]||(E.tracker[t]=function(e){try{return v(e)}catch(e){U(e,{},"createTracker",W()+P)}}(e),E.tracker[t])},E.destroy=function(){E.fire(["destroy"])},E.track=function(){var e=R[o];e&&e.loaded||(E.loaded=!0,R[o]=E,e&&f(e.q)&&E.fire.apply(E,e.q))},b=!1,e(_=E.track)||(t=function(){!b&&e(_)&&(b=!0,re.unbind(M,"visibilitychange",t,!1))},re.bind(M,"visibilitychange",t))}(window,document);